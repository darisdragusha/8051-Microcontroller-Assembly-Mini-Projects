;3 CONNECTED TO P1.0 ... P1.2, FIRST TWO ACTIVE H, THIRD ONE ACTIVE L. BLINK THEM BASED ON GIVEN PERIODS:
;LED1 TON =500MS, TOFF = 200MS
;LED2 TON = 700MS, TOFF = 1000MS 
;LED3 TON = 1000MS, TOFF = 1800MS 
	ORG	0000H
	LJMP	INIT
	ORG	000BH
	LJMP	ISR
LED1	EQU	P1.0
LED2	EQU	P1.1
LED3	EQU	P1.2
LED1ON	EQU	10
LED1OFF	EQU	4
LED2ON	EQU	14
LED2OFF	EQU	20
LED3OFF	EQU	36
INIT:
	MOV	TMOD, #01H
	MOV	TH0, #0C3H
	MOV	TL0, #50H
	MOV	R0, #LED1ON
	MOV	R1, #LED1OFF
	MOV	R3, #LED2ON
	MOV	R4, #LED2OFF
	MOV	R5, #LED3ON
	MOV	R6, #LED3OFF
	SETB	TR0
	SJMP	$

ISR:
	MOV	TMOD, #01H
	MOV	TH0, #0C3H
LED1:
	JNB	LED1, TURN_ON_LED1
	DJNZ	R0, LED2
	MOV	R0, #LED1ON
	CLR	LED1
	SJMP	LED2
TURN_ON_LED1:
	DJNZ	R1, LED2
	MOV	R1, #LED1OFF
	SETB	LED1
	SJMP	LED2

LED2:
	JNB	LED2, TURN_ON_LED2
	DJNZ	R3, LED3
	MOV	R3, #LED2ON
	CLR	LED2
	SJMP	LED3
TURN_ON_LED1:
	DJNZ	R4, LED3
	MOV	R4, #LED2OFF
	SETB	LED2
	SJMP	LED3

LED3:
	JB	LED3, TURN_ON_LED3
	DJNZ	R5, RETI
	MOV	R5, #LED3ON
	SETB	LED3
	SJMP	RETI
TURN_ON_LED3:
	DJNZ	R5, RETI
	MOV	R6, #LED3OFF
	CLR	LED3
	SJMP	RETI
RETI:	RETI

